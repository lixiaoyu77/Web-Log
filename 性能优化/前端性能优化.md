## 关于性能体验

优化页面加载速度对于提升用户体验和网站流量至关重要。快速加载的页面不仅能够留住用户，还有利于提高搜索引擎排名。
通常情况下，普通用户期望页面在 3 秒内加载完成。超出这个时间范围，用户可能会选择离开，造成用户流失。  
尤其在移动设备上，用户对页面加载速度的要求更高，期望首屏在 2 秒内完成加载。如果页面加载速度过慢，搜索引擎可能会对其进行惩罚，使其排名下降，导致流量减少。

## 工具

Network 检查

Lighthouse

## 优化方法

前端
后端 接口-分页请求
服务器 gzip/expires

# 防抖（Debounce）和节流（Throttle）

## 数据压缩和分页加载

数据压缩：
GZIP 压缩： 在服务器端启用 GZIP 压缩，以减少传输数据大小。大多数服务器都支持 GZIP 压缩，启用后会显著减少数据传输量。
分页加载：
按需加载数据： 根据用户视图的需要，仅请求并加载当前可见范围内的数据，而不是一次性加载所有数据。

## 数据量优化

减少数据量：
数据切片： 通过对历史数据进行切片，只加载用户当前所需的数据。例如，只加载可见区域内的数据，随着用户滚动或缩放，再加载相应的新数据。

## 图表配置优化

图表优化：
配置参数调整： 浏览 TradingViewJS 的文档，查看是否有可以优化性能的配置选项。例如，可以调整图表的渲染方式、分辨率和数据点密度。

## 优化网络请求

网络请求优化：
减少 HTTP 请求： 合并 CSS 和 JavaScript 文件，减少网页所需的 HTTP 请求次数。这可以通过构建流程、使用 Webpack 等工具来实现。
启用 HTTP 缓存： 确保服务器返回适当的缓存头，以便浏览器可以缓存资源。这可以减少重复请求，提高加载速度。
使用 CDN： 如果数据或 TradingViewJS 库位于远程服务器上，使用内容分发网络（CDN）可以提高加载速度，因为 CDN 将资源缓存在全球不同的服务器上，从而加速内容传递。

## sure，当然还有许多优化方法。

#前端性能优化是一个综合性的任务，涉及多个方面。下面是一些常见的优化策略，覆盖了网络、浏览器渲染、CSS、JavaScript 执行、框架等层面：

## 网络层面：

减少请求次数：

合并和压缩文件，减少 HTTP 请求次数。
使用雪碧图（CSS sprites）减少图像请求。
使用 CDN（内容分发网络）：

将静态资源部署到 CDN 上，提高资源加载速度。
使用缓存：

利用浏览器缓存和服务端缓存机制，减少不必要的重复请求。
懒加载和预加载：

图片懒加载，延迟加载不可见区域的图片。
使用 rel="preload" 预加载关键资源。

## 浏览器渲染层面：

优化关键渲染路径：

将关键 CSS 内联，避免阻塞渲染。
将脚本标记为 async 或 defer，推迟脚本执行。
减少重绘和重排：

避免频繁的样式变化，使用高效的 CSS 选择器。
将动画效果应用于 transform 和 opacity，而不是影响布局的属性。

## CSS 层面：

精简和优化 CSS：

移除不必要的样式。
使用缩写和压缩 CSS。
使用合适的选择器：

避免使用过于通用的选择器，提高规则的命中效率。
避免使用昂贵的样式属性：

尽量避免使用 position: fixed 和 box-shadow 等性能开销较大的属性。

## JavaScript 执行层面：

1. 优化代码：

- 使用生产环境的代码，删除注释和调试语句。
- 避免全局变量，使用局部变量。
- 使用事件委托来减少事件监听器的数量。

2. 懒加载和按需加载：

- 将不同页面或组件的 JavaScript 代码拆分为多个文件，并在需要时加载。

## 框架层面：

优化框架性能：

选择合适的框架，考虑框架的体积和性能。
使用框架提供的性能工具进行分析和优化。
服务端渲染（SSR）和预渲染：

对于需要 SEO 优化的应用，考虑使用服务端渲染或预渲染。
虚拟化和无限滚动：

对于大型列表或表格，使用虚拟化技术，只渲染可见区域的内容。
实现无限滚动，动态加载数据，提高用户体验。
