#### 浏览器缓存是指浏览器在用户访问网页时将一些数据存储在本地，以便在后续访问同一网页时可以更快地加载页面内容

#### 浏览器缓存可以分为两种类型：强缓存和协商缓存

### 强缓存

浏览器在请求资源时，首先检查本地缓存中是否存在该资源的副本，并根据缓存策略来确定是否使用缓存而不发送请求到服务器。如果资源存在于强缓存中且未过期，则浏览器直接从缓存中加载资源，不再向服务器请求该资源，从而提高页面加载速度和减轻服务器压力。

常见的强缓存控制策略包括：

- Expires（过期时间）：服务器在响应头中返回资源的过期时间，浏览器在请求资源时会检查该时间，如果未过期则使用缓存，否则向服务器请求新的资源。但这种方法存在一些问题，例如服务器与浏览器的时间不一致可能导致缓存失效。
- Cache-Control：Cache-Control 是一个更加灵活的缓存控制策略，可以通过设置 max-age（最大缓存时间）来指定资源在本地缓存的最长时间。例如，Cache-Control: max-age=3600 表示资源将在请求后的 3600 秒内有效。

在实际开发中，常常使用 Cache-Control 来控制强缓存。通过设置合适的 max-age 值，可以灵活地控制缓存的有效期，从而优化页面加载性能和减少网络流量消耗。

### 协商缓存

浏览器在强缓存失效后，通过向服务器发送请求来验证缓存是否仍然有效的一种缓存机制。与强缓存不同，协商缓存不是直接从本地缓存中加载资源，而是向服务器发送一个条件请求（conditional request），服务器根据请求中携带的信息来判断资源是否已经发生了变化。如果资源未发生变化，则服务器返回 304 Not Modified 状态码，并在响应头中包含一些额外的信息，告知浏览器可以继续使用本地缓存。

常见的协商缓存控制策略包括：

- Last-Modified / If-Modified-Since：服务器在响应头中返回资源的最后修改时间（Last-Modified），当浏览器下次请求该资源时，会在请求头中包含 If-Modified-Since 字段，值为上次请求中服务器返回的最后修改时间。服务器收到请求后，会比较资源的最后修改时间和 If-Modified-Since 字段的值，如果资源未发生变化，则返回 304 Not Modified 状态码，否则返回新的资源内容。

- ETag / If-None-Match：ETag 是服务器为每个资源生成的唯一标识符，当资源发生变化时，ETag 的值会发生变化。当浏览器请求资源时，在请求头中携带 If-None-Match 字段，值为上次请求中服务器返回的 ETag。服务器收到请求后，比较资源的当前 ETag 和 If-None-Match 字段的值，如果相等，则返回 304 Not Modified 状态码，否则返回新的资源内容。

协商缓存相对于强缓存更加灵活，因为它可以在资源发生变化时及时获取最新的内容，而不是等待缓存过期。但相应地，协商缓存需要服务器进行额外的判断和处理，可能会增加服务器的负载。
