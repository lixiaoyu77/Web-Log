# 一个简化的浏览器渲染过程：

1. 获取 HTML： 浏览器向服务器请求HTML文件。

2. 解析 HTML： 浏览器开始解析HTML代码，构建DOM（文档对象模型）树。

3. 获取外部资源： 在解析HTML的过程中，如果遇到外部资源（如CSS、JavaScript文件、图片等），则会发起额外的请求获取这些资源。

4. 构建 CSSOM： 当浏览器遇到<style>标签或外部CSS文件时，会开始构建CSSOM（CSS对象模型）树。

5. 构建渲染树： 将DOM树和CSSOM树结合，生成渲染树（Render Tree）。渲染树中包含了所有需要渲染的节点，但只包含了需要显示的节点（即可见元素），例如display: none的元素不会包含在渲染树中。

6. 布局（Layout）： 渲染树中的每个节点都有计算样式和几何信息，浏览器使用这些信息进行布局。布局是确定每个节点在屏幕上的确切位置和大小的过程。

7. 绘制（Paint）： 将布局后的节点绘制到屏幕上。这是渲染引擎根据计算得到的几何信息将像素绘制到屏幕上的过程。

8. 合成图层： 为了提高性能，现代浏览器使用图层来优化渲染。每个渲染树中的节点可以生成一个或多个图层。这些图层可以独立地进行合成，而不必重新绘制整个页面。

9. 显示到屏幕： 浏览器将图层合成的结果显示到屏幕上。

整个过程是逐步完成的，并且可以被不同的步骤所触发。例如，当获取到CSS文件时，可能会触发重新构建CSSOM和渲染树的步骤。当JavaScript修改了DOM或样式时，可能会触发重新构建渲染树、布局和绘制的步骤。